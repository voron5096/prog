## Задача «Шарики»
Из урны с 10 пронумерованными шариками вынимают по одному шарику.
<br>
Подсчитать общее количество ситуаций, когда номер хотя бы одного вынутого шарика совпадает с порядковым номером действия "вынимания", например, когда шарик № 3 будет вынут 3-им по порядку.

https://mirea.ninja/t/zadacha-pro-shariki-proczedurnoe-programmirovanie-1-semestr/4168

```c++
#include <iostream>
#include <algorithm>
using namespace std;

bool generate(int* urna, int n) {
    for (int i = 1; i < n+1; i++) {
        if (urna[i-1] == i) {
            return true;
        }
    }
    return false;
}

int main() {
	int n = 10;
    int k = 0; // искомый результат
    int fac = 3628800; // число перестановок n шариков
    int urna[n];
    for(int i = 0; i != n; i++) {
    	urna[i] = i + 1;
	}
	
	for (int i = 0; i < fac; i++) {
        next_permutation(urna, urna + n);
        if (generate (urna, n)) {
        	k++;
		}
    }
    cout << k << endl;
    return 0;
}

// 2293839
```

### Один из возможных вариантов алгоритма решения задачи про шарики
1. Задать количество шариков n.
2. Создать массив пронумерованных шариков от 1 до n.
3. Целочисленная переменная i - номер шарика (от 1 до n), одновременно являющаяся счетчиком действий.
4. Создать функцию perestanovka от целочисленных m и n, которая генерирует перестановки, в зависимости от количества шариков (n) и в которой фигурирует номер очередного переставляемого шарика (m). В этой функции использовать условие: когда номер шага i равен номеру вынимаемого шарика m, печатать очередную перестановку. Во всех остальных случаях менять местами элементы с номерами i и m, после чего вызывать функцию perestanovka со следующим значением шага и опять же менять местами элементы с номерами i и m.
5. Основная программа: присваивание шарикам порядковых номеров, вызов функции perestanovka с параметрами 1 (первый шаг) и n (количество шариков).


![image](https://user-images.githubusercontent.com/70198995/208158818-338e3d48-9562-4b8b-9604-44bf8d0aaf2a.png)

![image](https://user-images.githubusercontent.com/70198995/208158865-1fbff73d-53f7-4252-99f9-37ce448d8b24.png)

```c++
void generate (int t) { // Создает все перестановки шариков, число которых равно t
  if (t==n-1) { //Вывод очередной перестановки
    for (int i=0;i<n;++i)
      cout<<a[i]<< " ";
      cout<<endl;
  }
  else {
    for (int j=t;j<n;++j) { //Запускаем процесс обмена
      swap(a[t],a[j]); //a[t] со всеми последующими
      t++;
      generate(t); //Рекурсивный вызов
      t--;
      swap(a[t],a[j]);
    }
  }
}
```
